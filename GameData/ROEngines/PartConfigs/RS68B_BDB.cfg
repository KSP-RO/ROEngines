PART
{
	module = Part
	name = ROE-RS68B
	author = Zorg

	category = Engine
	subcategory = 0
	RSSROConfig = true
	RP0conf = true

	crashTolerance = 10
	maxTemp = 673.15
	skinTemp = 773.15
	fuelCrossfeed = true
	breakingForce = 10000
	breakingTorque = 10000

	//	============================================================================
	//	Update Below
	//	============================================================================

	MODEL
	{
		model = ROEngines/Assets/BDB/Delta/bluedog_DeltaIV_RS68
		rotation = 0.0, 90.0, 0.0
	}

	scale = 1.0
	rescaleFactor = 1.6
	node_stack_top = 0.0, 1.18712, 0.0, 0.0, 1.0, 0.0, 2
	node_stack_bottom = 0.0, -2.15368, 0.0, 0.0, -1.0, 0.0, 2
	// stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,1,1,1,0

	TechRequired = generalRocketry
	entryCost = 2100
	cost = 950

	title = RS-68 Regen
	manufacturer = Aerojet Rocketdyne
	description = The RS-68 Regen is a RS-68 modified with a regenerative nozzle. This allows it to handle the extra heat from clustering, and allows for higher performance. Planned for the Ares V launch vehicle, and various SLS prototypes, but the RS-25 was chosen instead to save costs. Diameter: [2.44 m].

	tags = RS68, RS-68, RS 68, Ares, SLS

	engineType = RS68
	stagingIcon = LIQUID_ENGINE
	stageOffset = 1
	childStageOffset = 1

	MODULE
	{
		name = ModuleEnginesRF
		thrustVectorTransformName = thrustTransform
	}

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = gimbalTransform
		gimbalRange = 6
		useGimbalResponseSpeed = true
		gimbalResponseSpeed = 16
	}

	MODULE
	{
		name = ROLModelConstraint
		numOfPasses = 1
		LOOK_CONST
		{
			targetName = gimbalStrutUpper1
			transformName = gimbalStrutLower1
		}
		LOOK_CONST
		{
			targetName = gimbalStrutLower1
			transformName = gimbalStrutUpper1
		}
		LOOK_CONST
		{
			targetName = gimbalStrutUpper2
			transformName = gimbalStrutLower2
		}
		LOOK_CONST
		{
			targetName = gimbalStrutLower2
			transformName = gimbalStrutUpper2
		}
	}

	MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 1
		fxMax = 1
		maxDistance = 120
		falloff = 2
		thrustTransformName = thrustTransform
	}

	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = SwitchRS68B
		switcherDescription = Engine Mount
		switcherDescriptionPlural = Engine Mounts
		affectDragCubes = True
		affectFARVoxels = True

		SUBTYPE
		{
			name = Bare Regen
			title = Bare Regen
			descriptionSummary = Bare Regen Nozzle
			descriptionDetail = RS-68 Engine with a Regen Nozzle & no Mount
			transform = PowerheadMeshRegen
			transform = pipesSkinnedMeshRegen
			transform = exhaustRegen
			transform = nozzleRegen
		}

		SUBTYPE
		{
			name = Boattail Regen
			title = Boattail Regen
			descriptionSummary = Boattail Regen Nozzle
			descriptionDetail = RS-68 Engine with a Regen Nozzle within a Boattail Mount
			transform = PowerheadMeshRegen
			transform = pipesSkinnedMeshRegen
			transform = exhaustRegen
			transform = nozzleRegen
			transform = RS68BoattailRegen

			NODE
			{
				name = top
				position = 0.0,1.28776,0.0
			}
		}
	}

	MODULE
	{
		name = ModuleB9DisableTransform
		transform = PowerheadMesh
		transform = pipesSkinnedMesh
		transform = exhaustStandard
		transform = vernierGimbal
		transform = vernierStandardSkinnedMesh
		transform = nozzleWhite
		transform = nozzleBlack
		transform = RS68Boattail
	}

	MODULE
	{
		name = ROLAnimateEngineHeat
		meshName = innerGlow
		useThrottle = true
		redCurve
		{
			key = 0.0 0.0
			key = 0.5 0.86
		}
		blueCurve
		{
			key = 0.0 0.0
			key = 0.5 1.0
		}
		greenCurve
		{
			key = 0.0 0.0
			key = 0.5 0.98
		}
	}
}

@PART[ROE-RS68B]:AFTER[RealismOverhaulEngines]
{
	@title = RS-68 Regen
	@description = 1990s Medium TWR atmospheric engine. Using technology developed for the Space Shuttle SSME, the RS-68 is a single-use engine. This version uses a regeneratively cooled nozzle in order to improve performance, and allow clustering without overheating, intended for Ares V, and early versions of the SLS. Since this engine is only intended to be used in clusters, the vernier gimbals have been deleted.

	@MODULE[ModuleEngineConfigs] 
	{
		@configuration = RS-68K
		!CONFIG[RS-68] {}
		!CONFIG[RS-68A] {}
	}
}
