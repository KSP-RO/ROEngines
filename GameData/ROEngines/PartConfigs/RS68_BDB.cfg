PART
{
	module = Part
	name = ROE-RS68
	author = Zorg

	category = Engine
	subcategory = 0
	RSSROConfig = true
	RP0conf = true

	crashTolerance = 10
	maxTemp = 673.15
	skinTemp = 773.15
	fuelCrossfeed = true
	breakingForce = 10000
	breakingTorque = 10000

	//	============================================================================
	//	Update Below
	//	============================================================================

	MODEL
	{
		model = ROEngines/Assets/BDB/Delta/bluedog_DeltaIV_RS68
		rotation = 0.0, 90.0, 0.0
	}

	scale = 1.0
	rescaleFactor = 1.6
	node_stack_top = 0.0, 1.18712, 0.0, 0.0, 1.0, 0.0, 2
	node_stack_bottom = 0.0, -2.15368, 0.0, 0.0, -1.0, 0.0, 2
	// stack, srfAttach, allowStack, allowSrfAttach, allowCollision
	attachRules = 1,1,1,1,0

	TechRequired = generalRocketry
	entryCost = 2100
	cost = 950

	title = RS-68 Series
	manufacturer = Aerojet Rocketdyne
	description = 1990s Medium TWR atmospheric engine. Using technology developed for the Space Shuttle SSME, the RS-68 is a single-use engine, featuring a simplified design with less parts and an easier construction. The RS-68 powers the Delta IV launch vehicle family and is the most powerful LH2/LOX engine ever flown. Exhaust from the gas generator is used for roll control. Diameter: [2.44 m].

	tags = delta, delta-4, delta-iv, iv, 4, rs68, rs-68, rs, 68, cryogenic

	engineType = RS68
	stagingIcon = LIQUID_ENGINE
	stageOffset = 1
	childStageOffset = 1

	MODULE
	{
		name = ModuleEnginesRF
		thrustVectorTransformName = thrustTransform
	}

	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = gimbalTransform
		gimbalRange = 6
		useGimbalResponseSpeed = true
		gimbalResponseSpeed = 16
	}

	MODULE
	{
		name = ROLModelConstraint
		numOfPasses = 1
		LOOK_CONST
		{
			targetName = gimbalStrutUpper1
			transformName = gimbalStrutLower1
		}
		LOOK_CONST
		{
			targetName = gimbalStrutLower1
			transformName = gimbalStrutUpper1
		}
		LOOK_CONST
		{
			targetName = gimbalStrutUpper2
			transformName = gimbalStrutLower2
		}
		LOOK_CONST
		{
			targetName = gimbalStrutLower2
			transformName = gimbalStrutUpper2
		}
		LOOK_CONST
		{
			targetName = vernierPistonBaseLower
			transformName = vernierPistonBaseUpper
		}
		LOOK_CONST
		{
			targetName = vernierPistonBaseUpper
			transformName = vernierPistonBaseLower
		}
	}

	MODULE
	{
		name = ModuleSurfaceFX
		thrustProviderModuleIndex = 1
		fxMax = 1
		maxDistance = 120
		falloff = 2
		thrustTransformName = thrustTransform
	}

	MODULE
	{
		name = ModuleB9PartSwitch
		moduleID = SwitchRS68
		switcherDescription = Engine Mount
		switcherDescriptionPlural = Engine Mounts
		affectDragCubes = True
		affectFARVoxels = True

		SUBTYPE
		{
			name = Bare Black
			title = Bare Black
			descriptionSummary = Bare Black Nozzle
			descriptionDetail = RS-68 Engine with a Black Nozzle & no Mount
			transform = exhaustStandard
			transform = nozzleBlack
			transform = vernierGimbal
			transform = vernierStandardSkinnedMesh
			transform = vernierPistonBaseLower
		}

		SUBTYPE
		{
			name = Bare White
			title = Bare White
			descriptionSummary = Bare White Nozzle
			descriptionDetail = RS-68 Engine with a White Nozzle & no Mount
			transform = exhaustStandard
			transform = nozzleWhite
			transform = vernierGimbal
			transform = vernierStandardSkinnedMesh
			transform = vernierPistonBaseLower
		}

		SUBTYPE
		{
			name = Boattail Black
			title = Boattail Black
			descriptionSummary = Boattail Black Nozzle
			descriptionDetail = RS-68 Engine with a Black Nozzle within a Boattail Mount
			transform = exhaustStandard
			transform = nozzleBlack
			transform = vernierGimbal
			transform = vernierStandardSkinnedMesh
			transform = vernierPistonBaseLower
			transform = RS68Boattail

			NODE
			{
				name = top
				position = 0.0,1.28776,0.0
			}
		}

		SUBTYPE
		{
			name = Boattail White
			title = Boattail White
			descriptionSummary = Boattail White Nozzle
			descriptionDetail = RS-68 Engine with a White Nozzle within a Boattail Mount
			transform = exhaustStandard
			transform = nozzleWhite
			transform = vernierGimbal
			transform = vernierStandardSkinnedMesh
			transform = vernierPistonBaseLower
			transform = RS68Boattail

			NODE
			{
				name = top
				position = 0.0,1.28776,0.0
			}
		}
	}

	MODULE
	{
		name = ModuleB9DisableTransform
		transform = PowerheadMeshRegen
		transform = pipesSkinnedMeshRegen
		transform = exhaustRegen
		transform = nozzleRegen
		transform = RS68BoattailRegen
	}

	MODULE
	{
		name = ROLAnimateEngineHeat
		meshName = innerGlow
		useThrottle = true
		redCurve
		{
			key = 0.0 0.0
			key = 0.5 0.86
		}
		blueCurve
		{
			key = 0.0 0.0
			key = 0.5 1.0
		}
		greenCurve
		{
			key = 0.0 0.0
			key = 0.5 0.98
		}
	}
}

@PART[ROE-RS68]:AFTER[RealismOverhaulEngines]
{
	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = vernierGimbal
		useGimbalResponseSpeed = false
		gimbalRange = 4
		gimbalRangeXN = 4
		gimbalRangeXP = 4
		gimbalRangeYN = 0
		gimbalRangeYP = 0
		enableRoll = true
		enableYaw = false
		enablePitch = false
	}

	@MODULE[ModuleEngineConfigs] 
	{
		@configuration = RS-68
		!CONFIG[RS-68K] {}
		!CONFIG[RS-800] {}
	}
}
